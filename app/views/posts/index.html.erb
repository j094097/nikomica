<div class="ui eight wide column centered grid">
  <div class= "column">
    <h1>Listing posts</h1>

    <table>
      <thead>
        <tr>
          <th>Id</th>
          <th>User</th>
          <th>Post date</th>
          <th>Content</th>
          <th>Published</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @posts.each do |post| %>
          <tr>
            <td><%= post.id %></td>
            <td><%= post.user_id %></td>
            <td><%= post.post_date %></td>
            <td><%= post.content %></td>
            <td><%= post.published %></td>
            
            <% if params[:user_id].present? %>
              <td><%= link_to 'Show', user_post_path(current_user, post) %></td>
              <td data-no-turbolink><%= link_to 'Edit', edit_user_post_path(current_user, post) %></td>
              <td><%= link_to 'Destroy', user_post_path(current_user, post), method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <% else %>
              <td><%= link_to 'Show', post %></td>
            <% end %> 
          </tr>
        <% end %>
      </tbody>
    </table>

    <% if current_user %>
      <%= link_to 'New Post', new_user_post_path(current_user) %>
    <% end %>

  </div>
</div>

<br>

